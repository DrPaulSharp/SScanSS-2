<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Align Sample on Instrument &#8212; SScanSS 2 1.0.0-beta documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          SScanSS 2</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0.0-beta</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="api.html">API</a></li>
                <li><a href="tutorials.html">Tutorials</a></li>
                <li><a href="guides.html">User Guide</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Align Sample on Instrument</a><ul>
<li><a class="reference internal" href="#align-with-6d-pose">Align with 6D pose</a></li>
<li><a class="reference internal" href="#align-with-transformation-matrix">Align with transformation matrix</a></li>
<li><a class="reference internal" href="#align-with-fiducial-points">Align with fiducial points</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="align-sample-on-instrument">
<h1>Align Sample on Instrument<a class="headerlink" href="#align-sample-on-instrument" title="Permalink to this headline">¶</a></h1>
<p>Sample preparation is typically performed off the instrument after which the sample is moved to the instrument. SScanSS needs
to know the transformation (alignment matrix) from the original sample pose to the pose on the instrument. Once the alignment
matrix is specified, the sample model, fiducials, and measurements will be rendered in the instrument scene. The alignment
matrix can be specified in the following ways:</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">An alignment matrix must be specified even if it is an identity matrix without which the simulation cannot
be executed.</p>
</div>
<div class="section" id="align-with-6d-pose">
<h2>Align with 6D pose<a class="headerlink" href="#align-with-6d-pose" title="Permalink to this headline">¶</a></h2>
<p>The alignment matrix can be specified with 6 values: 3 (X, Y, Z) rotation angles and 3 (X, Y, Z) translation values. To
do this click <strong>Instrument &gt; ‘Align Sample on Instrument &gt; 6D Pose</strong>, type in the values, and click <strong>Align Sample</strong>.</p>
<a class="reference internal image-reference" href="_images/align_with_6D_pose.png"><img alt="Align with 6D pose Window" class="align-center" src="_images/align_with_6D_pose.png" style="width: 404.0px; height: 290.40000000000003px;" /></a>
</div>
<div class="section" id="align-with-transformation-matrix">
<h2>Align with transformation matrix<a class="headerlink" href="#align-with-transformation-matrix" title="Permalink to this headline">¶</a></h2>
<p>The alignment matrix can be specified directly by importing a <a class="reference internal" href="file_types.html#trans-file"><span class="std std-ref">Transformation matrix (.trans)</span></a>. To do this click
<strong>Instrument &gt; ‘Align Sample on Instrument &gt; Transformation Matrix</strong>, select the file in the dialog and click open.</p>
</div>
<div class="section" id="align-with-fiducial-points">
<h2>Align with fiducial points<a class="headerlink" href="#align-with-fiducial-points" title="Permalink to this headline">¶</a></h2>
<p>A common method of determining the alignment matrix is to re-measure fiducial points (a minimum of 3 points is required)
on the instrument and calculate the rigid transformation directly.</p>
<ul class="simple">
<li>Write re-measured fiducial points into a <a class="reference internal" href="file_types.html#fpos-file"><span class="std std-ref">Fiducial point positions file (.fpos)</span></a>.</li>
<li>Click <strong>Instrument &gt; ‘Align Sample on Instrument &gt; Fiducial Points</strong>.</li>
<li>Select the <a class="reference internal" href="file_types.html#fpos-file"><span class="std std-ref">Fiducial point positions file (.fpos)</span></a> and click open.</li>
</ul>
<p>On the Error report</p>
<ul class="simple">
<li>If accuracy is poor, disable the point with the largest errror and click <strong>Recalculate</strong>.</li>
<li>Repeat previous step until accuracy is tolerable or only 3 points are enabled.</li>
<li>Click <strong>Accept</strong> if the accuracy is within tolerance.</li>
</ul>
<a class="reference internal image-reference" href="_images/alignment_error.png"><img alt="Alignment error dialog" class="align-center" src="_images/alignment_error.png" style="width: 360.8px; height: 384.0px;" /></a>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Use more than 3 points to get a better approximation of the alignment matrix.</p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018-2019, ISIS Neutron and Muon Source.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>